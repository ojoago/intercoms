import{r as m,s as u,j as P,w as M,h as I,o as g,b as l,a as o,f as B,i as T,c as p,e as q,d as F,v as j,t as d}from"./app-xsfzURpa.js";import{M as Y,f as z}from"./MainLayout-BE3qOyIz.js";import{a as n,b as i,_ as r}from"./TextInput-K5ZUUq1v.js";import{_ as x}from"./Select-DYXGnMSS.js";import{_ as H}from"./Modal-BPlDR5F1.js";import"./ApplicationLogo-CB1yiyM-.js";import"./NavLink-B-upzq-l.js";import"./Flash-BS7G8M_T.js";const J={class:"px-4 py-2"},K={class:"px-4 py-2"},Q={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 py-4 px-4 md:py-8 md:px-8 text-sm"},W={class:"flex flex-col"},X={class:"flex flex-col"},Z={class:"flex flex-col"},ee={class:"flex flex-col"},te={class:"flex flex-col"},le={class:"flex flex-col"},se={class:"flex flex-col"},oe={class:"flex flex-col"},ae={class:"flex flex-col"},de={class:"flex flex-col"},re=["value"],ne={class:"flex flex-col"},ie={class:"flex flex-col"},me={class:"flex flex-col gap-4 px-4 md:px-8 text-sm"},fe={class:"overflow-auto rounded-lg shadow"},ue={class:"w-full"},ge={class:"bg-gray-50 border-b-2 border-gray-200"},ce={width:"5%",class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},be={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},pe={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},xe={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},ve={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},_e={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},he={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},we={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},ke={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},Ve={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},ye={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},Se={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},Ue={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},Ne=["onClick"],Ge={__name:"Staff",setup(Ce){const{transformValidationErrors:E}=z(),c=m(!1),v=()=>{c.value=!1,O()},L=[{id:"Female",text:"Female"},{id:"Male",text:"Male"}],s=m({firstname:"",lastname:"",othername:"",file:"",gender:"",religion:"",role:"",dob:"",gsm:"",username:"",state_of_origin:"",lga_of_origin:"",address:"",errors:{}});$();const _=m({});function $(){u.dispatch("loadDropdown","states").then(({data:a})=>{_.value=a}).catch(a=>{console.log(a)})}const h=m({});function w(a){u.dispatch("loadDropdown","state-lga/"+a).then(({data:e})=>{h.value=e}).catch(e=>{console.log(e)})}m({});const k=m({});function A(){u.dispatch("loadDropdown","roles/").then(({data:a})=>{k.value=a}).catch(a=>{console.log(a)})}A();function G(){s.value.errors={};let a={"Content-Type":"multipart/form-data"};u.dispatch("postMethod",{url:"/staff",param:s.value,headers:a}).then(e=>{(e==null?void 0:e.status)==422?s.value.errors=E(e.data):(e==null?void 0:e.status)==201&&(y(),v())}).catch(e=>{console.log(e)})}const O=()=>{s.value={firstname:"",lastname:"",othername:"",file:"",gender:"",religion:"",role:"",dob:"",state_of_origin:"",lga_of_origin:"",state_of_residence:"",lga_of_residence:"",address:"",errors:{}}},R=a=>{var e,b,t,f;w((e=a==null?void 0:a.origin)==null?void 0:e.id),s.value={firstname:a.firstname,lastname:a.lastname,othername:a.othername,username:a.username,file:"",gender:a.gender,dob:a.dob,gsm:a.gsm,email:(b=a==null?void 0:a.user)==null?void 0:b.email,state_of_origin:(t=a==null?void 0:a.origin)==null?void 0:t.id,lga_of_origin:(f=a==null?void 0:a.lga)==null?void 0:f.id,address:a.address,errors:{}},c.value=!0},V=m({});function y(a="load-staff"){u.dispatch("getMethod",{url:a}).then(e=>{(e==null?void 0:e.status)==200&&(V.value=e.data)}).catch(e=>{console.log(e)})}return y(),(a,e)=>{const b=I("font-awesome-icon");return g(),P(Y,null,{default:M(()=>[l("div",J,[o(H,{show:c.value,onClose:v,"max-width":"4xl",title:"Staff Bio Data",onSubmit:G},{default:M(()=>[l("div",K,[l("form",null,[l("div",Q,[l("div",W,[o(n,{for:"first_name",value:"First Name"}),o(i,{id:"first_name",type:"text",class:"mt-1 block w-full",modelValue:s.value.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value.firstname=t),placeholder:"First Name",required:""},null,8,["modelValue"]),o(r,{class:"mt-2",message:s.value.errors.firstname},null,8,["message"])]),l("div",X,[o(n,{for:"last_name",value:"Last Name"}),o(i,{id:"last_name",type:"text",class:"mt-1 block w-full",modelValue:s.value.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>s.value.lastname=t),placeholder:"Last Name",required:""},null,8,["modelValue"]),o(r,{class:"mt-2",message:s.value.errors.lastname},null,8,["message"])]),l("div",Z,[o(n,{for:"nin",value:"Othername"}),o(i,{id:"nin",type:"text",class:"mt-1 block w-full",modelValue:s.value.othername,"onUpdate:modelValue":e[2]||(e[2]=t=>s.value.othername=t),placeholder:"othername",required:""},null,8,["modelValue"]),o(r,{class:"mt-2",message:s.value.errors.othername},null,8,["message"])]),l("div",ee,[o(n,{for:"email",value:"Email address"}),o(i,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:s.value.email,"onUpdate:modelValue":e[3]||(e[3]=t=>s.value.email=t),placeholder:"Email address",required:""},null,8,["modelValue"]),o(r,{class:"mt-2",message:s.value.errors.email},null,8,["message"])]),l("div",te,[o(n,{for:"email",value:"Username"}),o(i,{id:"username",type:"text",class:"mt-1 block w-full",modelValue:s.value.username,"onUpdate:modelValue":e[4]||(e[4]=t=>s.value.username=t),placeholder:"e.g Yemi",required:""},null,8,["modelValue"]),o(r,{class:"mt-2",message:s.value.errors.username},null,8,["message"])]),l("div",le,[o(n,{for:"gsm",value:"Phone Number"}),o(i,{id:"gsm",type:"text",class:"mt-1 block w-full",modelValue:s.value.gsm,"onUpdate:modelValue":e[5]||(e[5]=t=>s.value.gsm=t),placeholder:"Phone Number",required:""},null,8,["modelValue"]),o(r,{class:"mt-2",message:s.value.errors.gsm},null,8,["message"])]),l("div",se,[o(x,{modelValue:s.value.gender,"onUpdate:modelValue":e[6]||(e[6]=t=>s.value.gender=t),label:"Select Gender",placeholder:"Select Gender",options:L},null,8,["modelValue"]),o(r,{class:"mt-2",message:s.value.errors.gender},null,8,["message"])]),l("div",oe,[o(n,{for:"dob",value:"Date of Birth"}),o(i,{id:"dob",type:"date",class:"mt-1 block w-full",modelValue:s.value.dob,"onUpdate:modelValue":e[7]||(e[7]=t=>s.value.dob=t),placeholder:"Date of Birth",required:""},null,8,["modelValue"]),o(r,{class:"mt-2",message:s.value.errors.dob},null,8,["message"])]),l("div",ae,[o(n,{for:"image",value:"Image"}),o(i,{id:"image",type:"file",class:"mt-1 block w-full",onInput:e[8]||(e[8]=t=>s.value.file=t.target.files[0]),placeholder:"Date of Birth",required:""}),o(r,{class:"mt-2",message:s.value.errors.file},null,8,["message"])]),l("div",de,[o(n,{for:"dob",value:"State of Origin"}),B(l("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>s.value.state_of_origin=t),onChange:e[10]||(e[10]=t=>w(t.target.value)),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[e[15]||(e[15]=l("option",{value:"",selected:""},"Choose State",-1)),(g(!0),p(F,null,q(_.value,t=>(g(),p("option",{key:t.id,value:t.id},d(t.text),9,re))),128))],544),[[T,s.value.state_of_origin]]),o(r,{class:"mt-2",message:s.value.errors.state_of_origin},null,8,["message"])]),l("div",ne,[o(x,{modelValue:s.value.lga_of_origin,"onUpdate:modelValue":e[11]||(e[11]=t=>s.value.lga_of_origin=t),label:"Select LGA of Origin",placeholder:"Select Option",options:h.value},null,8,["modelValue","options"]),o(r,{class:"mt-2",message:s.value.errors.lga_of_origin},null,8,["message"])]),l("div",ie,[o(x,{modelValue:s.value.role,"onUpdate:modelValue":e[12]||(e[12]=t=>s.value.role=t),label:"Select Staff Role",placeholder:"Select Role",options:k.value},null,8,["modelValue","options"]),o(r,{class:"mt-2",message:s.value.errors.role},null,8,["message"])])]),l("div",me,[o(n,{for:"email",value:"Contact Address"}),B(l("textarea",{class:"staffForm-control border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":e[13]||(e[13]=t=>s.value.address=t),placeholder:"Address"},null,512),[[j,s.value.address]]),o(r,{class:"mt-2",message:s.value.errors.address},null,8,["message"])])])])]),_:1},8,["show"]),l("button",{onClick:e[14]||(e[14]=t=>c.value=!0),class:"bg-optimal text-white p-1 mb-2 rounded"},"Add Staff"),l("div",fe,[l("table",ue,[l("thead",ge,[l("tr",null,[e[16]||(e[16]=l("th",{width:"5%",class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"S/N",-1)),e[17]||(e[17]=l("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"Names ",-1)),e[18]||(e[18]=l("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"Email",-1)),e[19]||(e[19]=l("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"Username",-1)),e[20]||(e[20]=l("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"Role",-1)),e[21]||(e[21]=l("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"Phone Number",-1)),e[22]||(e[22]=l("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"Gender",-1)),e[23]||(e[23]=l("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"Date Of Birth",-1)),e[24]||(e[24]=l("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"State ",-1)),e[25]||(e[25]=l("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"LGA ",-1)),e[26]||(e[26]=l("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"Addrees ",-1)),l("th",ce,[o(b,{icon:"fa-solid fa fa-gear"})])])]),l("tbody",null,[(g(!0),p(F,null,q(V.value,(t,f)=>{var S,U,N,C,D;return g(),p("tr",{class:"bg-white",key:f},[l("td",be,d(f+1),1),l("td",pe,d(t.lastname)+" "+d(t.firstname)+" "+d(t.othername),1),l("td",xe,d((S=t==null?void 0:t.user)==null?void 0:S.email),1),l("td",ve,d(t.username),1),l("td",_e,d((N=(U=t==null?void 0:t.user)==null?void 0:U.roles[0])==null?void 0:N.name),1),l("td",he,d(t.gsm),1),l("td",we,d(t.gender),1),l("td",ke,d(t.date),1),l("td",Ve,d((C=t.origin)==null?void 0:C.state),1),l("td",ye,d((D=t.lga)==null?void 0:D.lga),1),l("td",Se,d(t.address),1),l("td",Ue,[l("button",{class:"bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-1 px-3 rounded text-sm",onClick:De=>R(t)}," Edit ",8,Ne)])])}),128))])])])])]),_:1})}}};export{Ge as default};
